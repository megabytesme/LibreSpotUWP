<UserControl
    x:Class="LibreSpotUWP.Controls.NarrowMediaControllerBar"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:converters="using:LibreSpotUWP.Converters">

    <UserControl.Resources>
        <converters:TimeConverter x:Key="TimeConverter" />
    </UserControl.Resources>

    <Grid
        Background="{ThemeResource SystemControlBackgroundChromeMediumLowBrush}"
        ManipulationCompleted="Root_ManipulationCompleted"
        ManipulationDelta="Root_ManipulationDelta"
        ManipulationMode="TranslateX"
        ManipulationStarted="Root_ManipulationStarted"
        Tapped="Root_Tapped">
        <Grid.RowDefinitions>
            <RowDefinition Height="4" />
            <RowDefinition Height="Auto" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="40" />
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="48" />
        </Grid.ColumnDefinitions>

        <Border
            x:Name="ProgressFill"
            Grid.Row="0"
            Grid.ColumnSpan="3"
            Height="4"
            HorizontalAlignment="Left"
            Background="{ThemeResource SystemAccentColor}" />

        <Grid
            Grid.Row="1"
            Grid.ColumnSpan="3"
            Padding="8,4,8,8">

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="63" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="48" />
            </Grid.ColumnDefinitions>

            <Image
                x:Name="AlbumArt"
                Grid.Column="0"
                Width="55"
                Height="55"
                Stretch="UniformToFill" />

            <TextBlock
                x:Name="TrackTitle"
                Grid.Column="1"
                Margin="8,0,0,0"
                FontSize="14"
                FontWeight="SemiBold"
                MaxLines="1"
                TextTrimming="CharacterEllipsis" />

            <TextBlock
                x:Name="TrackArtist"
                Grid.Column="1"
                Margin="8,18,0,0"
                FontSize="12"
                Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"
                MaxLines="1"
                TextTrimming="CharacterEllipsis" />

            <Button
                x:Name="PlayPauseButton"
                Grid.Column="2"
                Width="40"
                Height="40"
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Click="PlayPauseButton_Click"
                Style="{StaticResource ButtonRevealStyle}">
                <SymbolIcon x:Name="PlayPauseIcon" Symbol="Play" />
            </Button>

        </Grid>
    </Grid>
</UserControl>