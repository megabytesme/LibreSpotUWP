<Page
    x:Class="LibreSpotUWP.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <ScrollViewer Grid.Row="0" Padding="24">
            <StackPanel
                MaxWidth="800"
                HorizontalAlignment="Left"
                Spacing="20">
                <TextBlock Style="{StaticResource HeaderTextBlockStyle}" Text="Spotify" />

                <StackPanel Spacing="8">
                    <TextBlock
                        FontWeight="SemiBold"
                        Style="{StaticResource BaseTextBlockStyle}"
                        Text="Stream Configuration" />
                    <Grid ColumnSpacing="12">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBox x:Name="TrackUriTextBox" PlaceholderText="Enter Spotify URI" />
                        <Button
                            Grid.Column="1"
                            Width="100"
                            Click="PlayButton_Click"
                            Content="Load"
                            Style="{StaticResource AccentButtonStyle}" />
                    </Grid>
                </StackPanel>

                <StackPanel Spacing="4">
                    <TextBlock
                        x:Name="LibrespotStatusText"
                        Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"
                        Style="{StaticResource CaptionTextBlockStyle}" />
                    <TextBlock
                        x:Name="SpotifyApiStatusText"
                        Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"
                        Style="{StaticResource CaptionTextBlockStyle}" />
                    <Button
                        x:Name="AccountButton"
                        Margin="0,10,0,0"
                        Click="AccountButton_Click"
                        Content="Manage Account" />
                </StackPanel>
            </StackPanel>
        </ScrollViewer>

        <Border
            Grid.Row="1"
            Padding="12,8"
            Background="{ThemeResource SystemControlBackgroundChromeMediumLowBrush}"
            BorderBrush="{ThemeResource SystemControlForegroundBaseLowBrush}"
            BorderThickness="0,1,0,0">
            <Grid ColumnSpacing="20">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="300" />
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="300" />
                </Grid.ColumnDefinitions>

                <StackPanel
                    VerticalAlignment="Center"
                    Orientation="Horizontal"
                    Spacing="12">
                    <Border
                        Width="48"
                        Height="48"
                        Background="{ThemeResource SystemControlBackgroundBaseLowBrush}"
                        CornerRadius="4">
                        <Grid>
                            <FontIcon
                                HorizontalAlignment="Center"
                                VerticalAlignment="Center"
                                FontFamily="Segoe MDL2 Assets"
                                Glyph="&#xE93C;"
                                Opacity="0.5" />

                            <Image x:Name="AlbumArtImage" Stretch="UniformToFill" />
                        </Grid>
                    </Border>
                    <StackPanel VerticalAlignment="Center">
                        <TextBlock
                            x:Name="TrackTitleText"
                            FontWeight="SemiBold"
                            TextTrimming="CharacterEllipsis" />
                        <TextBlock
                            x:Name="TrackArtistText"
                            Style="{StaticResource CaptionTextBlockStyle}"
                            TextTrimming="CharacterEllipsis" />
                    </StackPanel>
                </StackPanel>

                <StackPanel
                    Grid.Column="1"
                    MaxWidth="600"
                    VerticalAlignment="Center">
                    <StackPanel
                        HorizontalAlignment="Center"
                        Orientation="Horizontal"
                        Spacing="20">
                        <Button
                            Background="Transparent"
                            Click="PrevButton_Click"
                            Content="&#xE892;"
                            FontFamily="Segoe MDL2 Assets" />
                        <Button
                            x:Name="PauseButton"
                            Click="PauseButton_Click"
                            Content="&#xE769;"
                            FontFamily="Segoe MDL2 Assets"
                            FontSize="20"
                            Visibility="Collapsed" />
                        <Button
                            x:Name="ResumeButton"
                            Click="ResumeButton_Click"
                            Content="&#xE768;"
                            FontFamily="Segoe MDL2 Assets"
                            FontSize="20" />
                        <Button
                            Background="Transparent"
                            Click="NextButton_Click"
                            Content="&#xE893;"
                            FontFamily="Segoe MDL2 Assets" />
                        <Button
                            Background="Transparent"
                            Click="StopButton_Click"
                            Content="&#xE71A;"
                            FontFamily="Segoe MDL2 Assets" />
                    </StackPanel>

                    <Grid Margin="0,4,0,0">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        <TextBlock
                            x:Name="CurrentTimeText"
                            Width="40"
                            VerticalAlignment="Center"
                            Style="{StaticResource CaptionTextBlockStyle}"
                            Text="0:00" />
                        <Slider
                            x:Name="PositionSlider"
                            Grid.Column="1"
                            Margin="12,0"
                            VerticalAlignment="Center"
                            PointerCaptureLost="PositionSlider_PointerCaptureLost"
                            PointerPressed="PositionSlider_PointerPressed" />
                        <TextBlock
                            x:Name="TotalTimeText"
                            Grid.Column="2"
                            Width="40"
                            VerticalAlignment="Center"
                            Style="{StaticResource CaptionTextBlockStyle}"
                            Text="0:00" />
                    </Grid>
                </StackPanel>

                <StackPanel
                    Grid.Column="2"
                    HorizontalAlignment="Right"
                    VerticalAlignment="Center"
                    Orientation="Horizontal"
                    Spacing="12">
                    <FontIcon
                        FontFamily="Segoe MDL2 Assets"
                        FontSize="16"
                        Glyph="&#xE767;" />
                    <Slider
                        x:Name="VolumeSlider"
                        Width="120"
                        VerticalAlignment="Center"
                        Maximum="100"
                        Minimum="0"
                        ValueChanged="VolumeSlider_ValueChanged" />
                </StackPanel>
            </Grid>
        </Border>

        <Grid
            x:Name="LoadingOverlay"
            Grid.RowSpan="2"
            Background="{ThemeResource SystemControlBackgroundBaseLowBrush}"
            Visibility="Collapsed">
            <StackPanel
                HorizontalAlignment="Center"
                VerticalAlignment="Center"
                Spacing="12">
                <ProgressRing
                    x:Name="LoadingProgressRing"
                    Width="60"
                    Height="60"
                    IsActive="False" />
                <TextBlock
                    HorizontalAlignment="Center"
                    Style="{StaticResource BodyTextBlockStyle}"
                    Text="Processing..." />
            </StackPanel>
        </Grid>
    </Grid>
</Page>